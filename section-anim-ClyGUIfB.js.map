{"version":3,"file":"section-anim-ClyGUIfB.js","sources":["../scripts/components/section-anim.ts"],"sourcesContent":["import gsap from \"gsap\";\nimport { bp } from \"../utils/variables\";\n\nexport default function initScrollAnim() {\n    const main = document.querySelector<HTMLElement>(\"main.main\");\n    if (!main) return;\n\n    gsap.matchMedia().add(`(min-width: ${bp.lg}px) and (prefers-reduced-motion: no-preference)`, function () {\n        initSectionAnim(main);\n        initBgAnim(main);\n\n        initCardAnim(main);\n        initListAnim(main);\n    });\n}\n\nfunction checkIfPastEl(element: HTMLElement): boolean {\n    return element.getBoundingClientRect().bottom <= 0;\n}\n\nfunction initSectionAnim(main: HTMLElement) {\n    const sections = main.querySelectorAll<HTMLElement>(\"section:not(.asset)\");\n\n    sections.forEach(section => {\n        if (checkIfPastEl(section)) return;\n\n        gsap.fromTo(\n            section,\n            {\n                opacity: 0.001,\n            },\n            {\n                opacity: 1,\n                scrollTrigger: {\n                    trigger: section,\n                    start: \"top+=100 95%\",\n                    end: \"bottom top\",\n                    once: true,\n                },\n                ease: \"power1.out\",\n                duration: 0.9,\n            }\n        );\n    });\n}\n\nfunction initBgAnim(main: HTMLElement) {\n    const bgs = main.querySelectorAll<HTMLElement>(\".bg\");\n\n    bgs.forEach(bg => {\n        gsap.fromTo(\n            bg,\n            {\n                \"--bg-scale\": 0.9,\n            },\n            {\n                \"--bg-scale\": 1,\n                scrollTrigger: {\n                    trigger: bg,\n                    start: \"top 95%\",\n                    end: \"bottom top\",\n                    once: true,\n                },\n                ease: \"power1.out\",\n                duration: 0.9,\n            }\n        );\n    });\n}\n\nfunction initCardAnim(main: HTMLElement) {\n    const wrappers = main.querySelectorAll<HTMLElement>(\".cards .row\");\n\n    wrappers.forEach(wrapper => {\n        if (checkIfPastEl(wrapper)) return;\n\n        const items = wrapper.querySelectorAll<HTMLElement>(\".card\");\n        gsap.fromTo(\n            items,\n            {\n                scale: 0.95,\n            },\n            {\n                scale: 1,\n                ease: \"power1.out\",\n                duration: 0.8,\n                stagger: 0.08,\n                scrollTrigger: {\n                    trigger: wrapper,\n                    start: \"top 95%\",\n                    end: \"bottom top\",\n                    once: true,\n                    scrub: false,\n                },\n            }\n        );\n    });\n}\n\nfunction initListAnim(main: HTMLElement) {\n    const wrappers = main.querySelectorAll<HTMLElement>(\".list .row\");\n\n    wrappers.forEach(wrapper => {\n        if (checkIfPastEl(wrapper)) return;\n\n        const items = wrapper.querySelectorAll<HTMLElement>(\"li\");\n        gsap.fromTo(\n            items,\n            {\n                opacity: 0,\n            },\n            {\n                opacity: 1,\n                ease: \"power1.out\",\n                duration: 0.9,\n                stagger: 0.07,\n                scrollTrigger: {\n                    trigger: wrapper,\n                    start: \"top 95%\",\n                    end: \"bottom top\",\n                    once: true,\n                    scrub: false,\n                },\n            }\n        );\n    });\n}\n"],"names":["initScrollAnim","main","document","querySelector","gsap","matchMedia","add","bp","lg","sections","querySelectorAll","forEach","section","checkIfPastEl","fromTo","opacity","scrollTrigger","trigger","start","end","once","ease","duration","initSectionAnim","bgs","bg","initBgAnim","wrappers","wrapper","items","scale","stagger","scrub","initCardAnim","initListAnim","element","getBoundingClientRect","bottom"],"mappings":"gDAGA,SAAwBA,IACpB,MAAMC,EAAOC,SAASC,cAA2B,aAC5CF,GAELG,EAAKC,aAAaC,IAAI,eAAeC,EAAGC,oDAAqD,YAajG,SAAyBP,GACrB,MAAMQ,EAAWR,EAAKS,iBAA8B,uBAEpDD,EAASE,QAAQC,IACTC,EAAcD,IAElBR,EAAKU,OACDF,EACA,CACIG,QAAS,MAEb,CACIA,QAAS,EACTC,cAAe,CACXC,QAASL,EACTM,MAAO,eACPC,IAAK,aACLC,MAAM,GAEVC,KAAM,aACNC,SAAU,MAI1B,CApCQC,CAAgBtB,GAsCxB,SAAoBA,GAChB,MAAMuB,EAAMvB,EAAKS,iBAA8B,OAE/Cc,EAAIb,QAAQc,IACRrB,EAAKU,OACDW,EACA,CACI,aAAc,IAElB,CACI,aAAc,EACdT,cAAe,CACXC,QAASQ,EACTP,MAAO,UACPC,IAAK,aACLC,MAAM,GAEVC,KAAM,aACNC,SAAU,MAI1B,CA3DQI,CAAWzB,GA6DnB,SAAsBA,GAClB,MAAM0B,EAAW1B,EAAKS,iBAA8B,eAEpDiB,EAAShB,QAAQiB,IACb,GAAIf,EAAce,GAAU,OAE5B,MAAMC,EAAQD,EAAQlB,iBAA8B,SACpDN,EAAKU,OACDe,EACA,CACIC,MAAO,KAEX,CACIA,MAAO,EACPT,KAAM,aACNC,SAAU,GACVS,QAAS,IACTf,cAAe,CACXC,QAASW,EACTV,MAAO,UACPC,IAAK,aACLC,MAAM,EACNY,OAAO,MAK3B,CAtFQC,CAAahC,GAwFrB,SAAsBA,GAClB,MAAM0B,EAAW1B,EAAKS,iBAA8B,cAEpDiB,EAAShB,QAAQiB,IACb,GAAIf,EAAce,GAAU,OAE5B,MAAMC,EAAQD,EAAQlB,iBAA8B,MACpDN,EAAKU,OACDe,EACA,CACId,QAAS,GAEb,CACIA,QAAS,EACTM,KAAM,aACNC,SAAU,GACVS,QAAS,IACTf,cAAe,CACXC,QAASW,EACTV,MAAO,UACPC,IAAK,aACLC,MAAM,EACNY,OAAO,MAK3B,CAlHQE,CAAajC,EACjB,EACJ,CAEA,SAASY,EAAcsB,GACnB,OAAOA,EAAQC,wBAAwBC,QAAU,CACrD"}